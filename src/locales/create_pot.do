<?php$_ENV["basepath"] = dirname(dirname(__FILE__));$data = array("" => array("value" => "Project-Id-Version: Askbot 0.1.20121108-betaReport-Msgid-Bugs-To: askbot.sourceforge.netPO-Revision-Date: 2012-11-08 15:21+0100Last-Translator: Language-Team: Language:MIME-Version: 1.0Content-Type: text/plain; charset=UTF-8Content-Transfer-Encoding: 8bitPOT-Creation-Date: X-Generator: Poedit 1.5.4X-Poedit-SourceCharset: UTF-8", "link" => array()));function ScanDirectory($dir) {	global $data;	$files = scandir($dir);	echo($dir.PHP_EOL);	foreach ($files as $file) {				if (substr($file,-4) != ".php") continue;		$str = file_get_contents($dir."/".$file);		echo("  ".$dir."/".$file.PHP_EOL);		//sleep(1);		preg_match_all("`\_\(\"([^\"]*)\"\)`", $str, $treffer);		foreach ($treffer[1] as $a) $data[$a]["link"][$file] = $file;		preg_match_all("`\_e\(\"([^\"]*)\"`", $str, $treffer);		foreach ($treffer[1] as $a) $data[$a]["link"][$file] = $file;		preg_match_all("`\_h\(\"([^\"]*)\"`", $str, $treffer);		foreach ($treffer[1] as $a) $data[$a]["link"][$file] = $file;	}}ScanDirectory($_ENV["basepath"]."/app/design/default/frontend");ScanDirectory($_ENV["basepath"]."/app/design/default/frontend/admin");ScanDirectory($_ENV["basepath"]."/app/code/classes");ScanDirectory($_ENV["basepath"]."/app/code/helper/default");include_once($_ENV["basepath"]."/app/code/helper/default/Country.php");foreach (Country::$_countries as $a) $data[$a[0]]["link"]["Country.php"] = "Country.php";foreach (Country::$_locales as $a) $data[$a[0]]["link"]["Country.php"] = "Country.php";$out = "";foreach ($data as $key => $row) {	if (isset($row["link"])) foreach ($row["link"] as $a) $out .= '#: '.$a.PHP_EOL;	if (strstr($key, "{n}")) {		$out .= 'msgid "'.$key.'"'.PHP_EOL;		$out .= 'msgid_plural "'.$key.'"'.PHP_EOL;		$out .= 'msgstr[0] "'.(isset($row["value"])? $row["value"]: "").'"'.PHP_EOL;		$out .= 'msgstr[1] "'.(isset($row["value"])? $row["value"]: "").'"'.PHP_EOL;		$out .= PHP_EOL;	} else {		$out .= 'msgid "'.$key.'"'.PHP_EOL;		$out .= 'msgstr "'.(isset($row["value"])? $row["value"]: "").'"'.PHP_EOL;		$out .= PHP_EOL;	}}file_put_contents("frontend.pot", $out);echo("fertig...");sleep(20);