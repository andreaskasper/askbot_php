<?php$db = new SQL(0);//die(date("d.m.Y", strtotime("this week")));$sql = 'SELECT SQL_CALC_FOUND_ROWS T1.tag, count(*) as Anzahl, T2.short_desc	FROM question_tags as T1 	LEFT JOIN tag_details as T2 ON T1.tag=T2.tag ';$sql .= ' WHERE (T1.`tag` != "") ';$sql .= ' GROUP BY T1.tag';switch ((isset($_GET["sort"])?$_GET["sort"]:"used")) {	case "name": $sql .= ' ORDER BY tag ASC'; break;	case "used": $sql .= ' ORDER BY Anzahl DESC'; break;}$sql .= ' LIMIT '.(isset($_GET["page"])?($_GET["page"]*60):"0").',60';$rows = $db->cmdrows(0, $sql);$AnzahlTags = $db->countallrows();function SortIcon($name, $key, $popup, $default = false) {	echo('<a id="by_'.$key.'" href="'.URL::addVar("sort",$key).'" class="sortby" title="'._e($popup).'"><span>'._e($name));	if ((isset($_GET["sort"]) OR $default) && $_GET["sort"] == $key) {		if (!isset($_GET["sortdir"]) OR $_GET["sortdir"] == "1") echo(' ^');		if (isset($_GET["sortdir"]) AND $_GET["sortdir"] == "2") echo(' ▼');	}	echo('</span></a>');}PageEngine::html("html_head", array("title" => _h("{0} Tags auf {1}", array($AnzahlTags, SiteConfig::val("page/title")))));PageEngine::html("header", array("searchquery" => (isset($_GET["query"])?$_GET["query"]:"")));?>	<div id="Content" class="content-wrapper PageTags">		<article class="ContentLeft">			<div class="tabBar"> <div id="sort_tabs" class="tabsA"> <span class="label"><?=_e("Sort by »");?></span>			<?php			SortIcon("Name", "name", "sort tags by their name");			SortIcon("Popularity", "popularity", "sort tags by their popularity");			?>			</div></div>						<h1 class="search-result-summary"><?=_e("{n} Tags", array("n" => $AnzahlTags)); ?></h1>			<div class="clearfix"></div>						<section class="tag-list tags"><?php	foreach ($rows as $row) {		echo('<div class="boxy"><span><a class="tag '.Tag::niceClass($row["tag"]).'" href="'.get_path("/questions?tag=".urlencode($row["tag"])).'" title="'._e("show questions with the tag '{0}'",array($row["tag"])).'">'.html($row["tag"]).'</a> x '.$row["Anzahl"].'</span>');		if ($row["short_desc"]."" > "") echo('<p>'.html($row["short_desc"]).'</p>');		echo('</div>');	}PageEngine::html("box_paginator", array("page" => (isset($_GET["page"])?$_GET["page"]+1:1), "max" => ceil($db->countallrows()/60)));?>			</section>								</article>		<aside class="ContentRight"><?phpPageEngine::html("widget_contributors");PageEngine::html("widget_tags");?>				</aside>			</div>	<style>.PageTags div.boxy { float:left; width: 180px; line-height: 25px; font-size: 16px; color: #5D5D5D; font-family: Arial; }.PageTags div.boxy p { margin: 0px; font-size: 10px; line-height: 10px; color: #888; }</style>		<?phpPageEngine::html("footer");?>	</body></html><?phpexit(1);?>