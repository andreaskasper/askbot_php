<?phpclass Question {	private static $_cache = array();	private static $_currentitem = 0;		public static function load($id) {		self::_load($id);		self::$_currentitem = $row["id"];	}		protected static function _load($id) {		if (isset(self::$_cache[$id])) return self::$_cache[$id];		$db = new SQL(0);		$row = $db->cmdrow(0, 'SELECT * FROM questions WHERE id={0} LIMIT 0,1', array($id));		if (!isset($row["id"])) return null;		self::$_cache[$row["id"]] = $row;		return $row;	}	public static function title($id = null) {		if ($id == null) $id = self::$_currentitem;		self::_load($id);		if (!isset(self::$_cache[$id]["title"])) return null;		return self::$_cache[$id]["title"];	}	public static function PermalinkByData($id = null, $title = null) {		if ($title == null) $title = self::title($id);		$b = preg_replace("@[^a-z0-9\-\.]@", "", str_replace(array(" ","ä","ö","ü","ß","Ä","Ö","Ü"), array("-","ae","oe","ue","ss","Ae","Oe","Ue"), strtolower($title)));		return $_ENV["baseurl"].'question/'.($id+0).'/'.$b;	}		public static function date_written_string($id = null) {		if ($id == null) $id = self::$_currentitem;		$row = self::_load($id);		return self::format_date($row["date_created"]);	}		public static function format_date($time = 0) {		$d = time()-$time;		if ($d < 100) return _h("{0} seconds ago", array($d));		if ($d < 3600) return _h("{0} minutes ago", array(floor($d/60)));		if ($d < 86400) return _h("{0} hours ago", array(floor($d/3600)));		if ($d < 500000) return _h("{0} days ago", array(floor($d/86400)));		return _h("on {0}", array(date(_h("M j 'y"), $time)));	}		public static function dispose() {		unset(self::$_cache);		self::$_cache = array();	}}